@if (errorMessage) {
<div class="alert-container">
  <alert [text]="errorMessage" [type]="errorMessageType"></alert>
</div>
}

<div class="register-container">
  <form [formGroup]="registerForm" (ngSubmit)="register()">
    <div class="register-title"><h2>Register</h2></div>
    <div class="field">
      <form-input
        [labelText]="'Username'"
        [placeholderText]="'Introduce your username'"
        [type]="'text'"
        formControlName="username"
      ></form-input>
    </div>
    <div class="field">
      <form-input
        [labelText]="'Email'"
        [placeholderText]="'Introduce your email'"
        [type]="'email'"
        formControlName="email"
      ></form-input>
      <input-error
        [errorMsg]="'Invalid email format'"
        [showError]="
          registerForm.hasError('emailInvalidFormat') &&
          registerForm.get('email')?.touched
        "
      ></input-error>
    </div>
    <div class="field">
      <form-input
        [labelText]="'Repeat email'"
        [placeholderText]="'Repeat your email'"
        [type]="'email'"
        formControlName="repeatEmail"
      ></form-input>
      <input-error
        [errorMsg]="'Not matching emails'"
        [showError]="
          registerForm.hasError('emailMismatch') &&
          registerForm.get('repeatEmail')?.touched
        "
      ></input-error>
    </div>
    <div class="field">
      <form-input
        [labelText]="'Password'"
        [placeholderText]="'Introduce your password'"
        [type]="'password'"
        formControlName="password"
      ></form-input>
      <input-error
        [errorMsg]="'Invalid password format'"
        [showError]="
          registerForm.hasError('passwordInvalidFormat') &&
          registerForm.get('password')?.touched
        "
      ></input-error>
    </div>
    <div class="field">
      <form-input
        [labelText]="'Repeat password'"
        [placeholderText]="'Repeat your password'"
        [type]="'password'"
        formControlName="repeatPassword"
      ></form-input>
      <input-error
        [errorMsg]="'Not matching passwords'"
        [showError]="
          registerForm.hasError('passwordMismatch') &&
          registerForm.get('repeatPassword')?.touched
        "
      ></input-error>
    </div>
    <div class="button-field">
      <basic-button
        [text]="'Register'"
        [type]="'submit'"
        [color]="'#633974'"
      ></basic-button>
    </div>
  </form>
</div>
